# EDAnalyzer to study the skim efficiency for the HZZ
#
# Contains a built in pre-selection on the generator 4 leptons which requires leptons
# to be within detector ficuial volume.  Results are outputted to std::cout
#
# Created by Dominique Fortin
# Tested on 2008/01/24

process HZZSkimEff = {

  ## keep the logging output to a nice level ###
  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "SimGeneral/HepPDTESSource/data/pythiapdt.cfi"
        
  service = AdaptorConfig {}

  untracked PSet maxEvents = {untracked int32 input = -1}
    
  source = PoolSource {
    untracked vstring fileNames = {'/store/mc/2007/10/28/CSA07-H120_ZZ_4l-1193560453/0008/FAD1C471-6E92-DC11-8B8F-001A92971B68.root'}
      untracked uint32 debugVerbosity = 0
      untracked bool   debugFlag     = false
  }


  ## Paths and Modules
  include "HiggsAnalysis/Skimming/data/higgsToZZ4Leptons_HLTPaths.cfi"


  module higgsToZZ4HLTrigReport = HLTrigReport {
    InputTag HLTriggerResults  = TriggerResults
  }


  module higgsToZZ4LeptonsFilterEff = HiggsToZZ4LeptonsSkimEff {

    bool DebugHiggsToZZ4LeptonsSkim    = false
 
    # Collection to be accessed
    InputTag RecoTrackLabel            = recoTracks
    InputTag GlobalMuonCollectionLabel = globalMuons
    InputTag ElectronCollectionLabel   = pixelMatchGsfElectrons

    # Pt thresholds for leptons
    double stiffMinimumPt              = 10.0
    double softMinimumPt               = 5.0

    # Minimum number of identified leptons above pt threshold
    int32  nStiffLeptonMinimum         = 2

    # nLepton is nSoft + nStiff
    int32  nLeptonMinimum              = 3

  }


  sequence HZZSkimEff = { higgsToZZ4HLTrigReport & higgsToZZ4LeptonsHLTFilter & higgsToZZ4LeptonsFilterEff }

  path p = { HZZSkimEff }

}
